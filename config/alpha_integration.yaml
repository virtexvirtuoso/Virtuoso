# Alpha Generation Integration Configuration

alpha_detection:
  # Enable/disable alpha detection
  enabled: false
  
  # Confidence threshold for sending alerts (0.0 - 1.0) - INCREASED for quality
  alert_threshold: 0.95  # Raised from 0.90 to 0.95 (95% confidence minimum)
  
  # How often to check for alpha opportunities (seconds) - RESTORED to original frequency
  check_interval: 300  # Restored from 900 to 300 (5 minutes for faster detection)
  
  # Symbols to monitor for alpha opportunities
  # NOTE: System now uses DYNAMIC top symbols from TopSymbolsManager
  # These fallback symbols are used only if TopSymbolsManager is unavailable
  monitored_symbols:
    - "BTCUSDT"   # Bitcoin (reference asset)
    - "ETHUSDT"   # Ethereum
    - "SOLUSDT"   # Solana 
    - "ADAUSDT"   # Cardano
    - "DOGEUSDT"  # Dogecoin
    - "XRPUSDT"   # Ripple
    - "AVAXUSDT"  # Avalanche
    - "LINKUSDT"  # Chainlink
    - "DOTUSDT"   # Polkadot
    - "MATICUSDT" # Polygon
    - "UNIUSDT"   # Uniswap
  
  # Dynamic symbols configuration - ALIGNED with TopSymbolsManager
  dynamic_symbols:
    enabled: true              # Use dynamic symbols from TopSymbolsManager
    max_symbols: 15           # Restored to 15 symbols to align with top_symbols.py
    update_interval: 300      # Restored to 300 (5 minutes) to match check_interval
    source: "TopSymbolsManager"  # Data source for symbols
  
  # Alpha detection parameters - INCREASED thresholds for quality
  detection_params:
    # Minimum alpha estimate to consider significant - DOUBLED
    min_alpha_threshold: 0.04  # Increased from 0.02 to 0.04 (4% minimum)
    
    # Maximum lookback period for beta calculation (minutes)
    max_lookback_minutes: 1440  # 24 hours
    
    # Minimum correlation threshold for valid beta - INCREASED
    min_correlation: 0.4  # Increased from 0.3 to 0.4
    
    # Beta expansion threshold - INCREASED for less noise
    beta_expansion_threshold: 2.0  # Increased from 1.3 to 2.0 (100% increase required)
    
    # Volume confirmation requirement - NEW
    volume_confirmation_required: true
    min_volume_multiplier: 2.0  # Require 2x average volume
    
    # Market condition filtering - NEW
    market_regime_filtering: true
    allowed_regimes: ["TRENDING_UP", "TRENDING_DOWN", "VOLATILE"]  # No alerts during ranging
    
    # Risk level thresholds
    risk_thresholds:
      low: 0.05      # 5% volatility
      medium: 0.10   # 10% volatility  
      high: 0.20     # 20% volatility
      very_high: 0.30 # 30% volatility

# Alert configuration - ENHANCED throttling
alerts:
  # Discord webhook settings for alpha alerts
  discord:
    # Use separate webhook for alpha alerts (optional)
    alpha_webhook_url: null  # Uses main webhook if null
    
    # Username for alpha alerts
    username: "Virtuoso Alpha"
    
    # Avatar URL for alpha alerts
    avatar_url: "https://i.imgur.com/alpha_bot.png"
  
  # Alert frequency limits - INCREASED for less noise
  throttling:
    # Minimum time between alpha alerts for same symbol (seconds) - DOUBLED
    min_interval_per_symbol: 3600  # Increased from 1800 to 3600 (1 hour)
    
    # Maximum alpha alerts per hour globally - HALVED
    max_alerts_per_hour: 5  # Reduced from 10 to 5
    
    # Cooldown after high-confidence alert (seconds) - INCREASED
    high_confidence_cooldown: 7200  # Increased from 3600 to 7200 (2 hours)
    
    # Alert prioritization - NEW
    max_alerts_per_symbol_per_day: 3  # Maximum 3 alerts per symbol per day
    priority_filtering: true  # Only send highest priority alerts

# Reporting configuration  
reporting:
  # Save alpha opportunities to database
  save_to_database: true
  
  # Export alpha data to CSV
  export_csv: true
  csv_export_dir: "exports/alpha_data"
  
  # Generate alpha performance reports
  performance_tracking: true
  
  # Log all alpha detection activity
  detailed_logging: true

# Integration settings
integration:
  # Integrate with existing signal generation
  enhance_signals: true
  
  # Include alpha score in confluence calculations
  include_in_confluence: true
  
  # Weight for alpha component in confluence score
  confluence_weight: 0.15  # 15%
  
  # Run alpha detection in parallel with other analysis
  parallel_execution: true
  
  # Timeout for alpha detection (seconds)
  detection_timeout: 30

# Logging configuration
logging:
  # Log level for alpha detection
  level: "INFO"
  
  # Enable detailed debug logging
  debug_enabled: false
  
  # Log alpha detection performance metrics
  log_performance: true
  
  # Save alpha detection logs to separate file
  separate_log_file: true
  
  # Log file path
  log_file: "logs/alpha_detection.log" 