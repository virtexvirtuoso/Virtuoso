# VPS Log Rotation Configuration for Virtuoso CCXT Trading System
# Place this file in /home/linuxuser/trading/Virtuoso_ccxt/config/

/home/linuxuser/trading/Virtuoso_ccxt/logs/main.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    copytruncate
    size 100M
    maxage 30
    postrotate
        # Optional: Send signal to process to reopen log files
        # pkill -HUP -f "python.*main.py" || true
        echo "$(date): main.log rotated" >> /home/linuxuser/trading/Virtuoso_ccxt/logs/logrotate.log
    endscript
}

/home/linuxuser/trading/Virtuoso_ccxt/logs/app.log {
    daily
    missingok
    rotate 15
    compress
    delaycompress
    notifempty
    copytruncate
    size 50M
    maxage 15
    postrotate
        echo "$(date): app.log rotated" >> /home/linuxuser/trading/Virtuoso_ccxt/logs/logrotate.log
    endscript
}

/home/linuxuser/trading/Virtuoso_ccxt/logs/*.log {
    weekly
    missingok
    rotate 4
    compress
    delaycompress
    notifempty
    copytruncate
    maxage 30
    postrotate
        echo "$(date): General logs rotated" >> /home/linuxuser/trading/Virtuoso_ccxt/logs/logrotate.log
    endscript
}