# Momentum Strategy Configuration for Virtuoso Trading System
# This file contains configuration settings for the MomentumStrategy

# Exchange Configuration
exchanges:
  bybit:
    api_key: "${BYBIT_API_KEY}"
    api_secret: "${BYBIT_API_SECRET}"
    testnet: true  # Set to false for live trading
    rest_endpoint: "https://api-testnet.bybit.com"  # Use https://api.bybit.com for live
    ws_endpoint: "wss://stream-testnet.bybit.com/v5/public/spot"  # Use wss://stream.bybit.com/v5/public/spot for live
    rate_limits:
      requests_per_second: 10
      orders_per_second: 5
      max_connections: 3

# Momentum Strategy Configuration
momentum_strategy:
  # Trading pairs to analyze
  symbols:
    - "BTCUSDT"
    - "ETHUSDT"
  
  # Time frame for analysis (1m, 5m, 15m, 30m, 1h, 4h, 1d)
  timeframe: "5m"
  
  # Number of historical periods to load for indicator calculation
  lookback_periods: 200
  
  # Risk Management Settings
  risk_management:
    # Risk per trade as percentage of account balance (0.02 = 2%)
    risk_per_trade: 0.02
    
    # Maximum number of simultaneous positions
    max_positions: 2
    
    # Stop loss percentage (0.015 = 1.5%)
    stop_loss_pct: 0.015
    
    # Take profit percentage (0.03 = 3%)
    take_profit_pct: 0.03
    
    # Maximum position size as percentage of account (0.1 = 10%)
    max_position_pct: 0.10
    
    # Risk-reward ratio threshold (minimum acceptable ratio)
    min_risk_reward_ratio: 1.5
  
  # Technical Indicator Settings
  indicators:
    # RSI Configuration
    rsi_period: 14
    rsi_oversold: 30
    rsi_overbought: 70
    
    # MACD Configuration
    macd_fast: 12
    macd_slow: 26
    macd_signal: 9
    
    # Additional filters
    volume_threshold: 1.5  # Minimum volume multiplier vs average
    trend_filter: true     # Use trend filter (SMA-based)
    trend_period: 20       # Period for trend filter
  
  # Signal Generation Settings
  signals:
    # Minimum confidence level to generate signals (0.0 - 1.0)
    min_confidence: 0.7
    
    # Signal strength thresholds
    strong_signal_threshold: 3    # Combined indicator score for strong signals
    weak_signal_threshold: 1      # Combined indicator score for weak signals
    
    # Signal filtering
    filter_low_volume: true       # Filter signals on low volume
    filter_against_trend: true    # Filter signals against major trend
  
  # Performance and Monitoring
  monitoring:
    # Performance reporting interval (seconds)
    performance_report_interval: 300
    
    # Maximum drawdown threshold for position closure
    max_drawdown_pct: 0.05
    
    # Enable performance tracking
    track_performance: true
    
    # Log detailed signal information
    detailed_logging: true

# Market Data Configuration
market_data:
  klines:
    timeframes:
      - "1m"
      - "5m"
      - "15m"
      - "1h"
    symbols:
      - "BTCUSDT"
      - "ETHUSDT"
    
    # Data retention settings
    max_candles_memory: 500
    history_days: 7

# WebSocket Configuration
websocket:
  heartbeat_interval: 30
  heartbeat_timeout: 60
  reconnect_attempts: 5
  reconnect_delay: 5
  max_reconnect_delay: 300
  ping_interval: 20
  ping_timeout: 10

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file_logging: true
  log_file: "logs/momentum_strategy.log"
  max_file_size: 10485760  # 10MB
  backup_count: 5

# Alert Configuration (optional integration with existing alert system)
alerts:
  enabled: true
  
  # Discord webhook (if available)
  discord_webhook: "${DISCORD_WEBHOOK_URL}"
  
  # Alert thresholds
  signal_alerts: true
  position_alerts: true
  performance_alerts: true
  error_alerts: true
  
  # Alert filtering
  min_signal_confidence: 0.8
  min_position_size: 0.001

# Database Configuration (for performance tracking)
database:
  enabled: false  # Enable for production use
  
  # SQLite configuration (default)
  sqlite:
    file: "data/momentum_strategy.db"
  
  # PostgreSQL configuration (optional)
  postgresql:
    host: "${DB_HOST}"
    port: 5432
    database: "${DB_NAME}"
    username: "${DB_USER}"
    password: "${DB_PASSWORD}"

# Development and Testing Settings
development:
  # Paper trading mode (simulate trades without execution)
  paper_trading: true
  
  # Reduced data requirements for testing
  test_mode: false
  
  # Mock exchange for testing (bypasses real exchange)
  mock_exchange: false
  
  # Accelerated time for backtesting
  accelerated_time: false