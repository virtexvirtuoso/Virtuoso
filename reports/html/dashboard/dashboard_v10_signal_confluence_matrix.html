<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtuoso Dashboard V10 - Signal Confluence Matrix</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Terminal Amber + Navy Blue Theme */
        :root {
            --bg-primary: #0c1a2b;
            --bg-secondary: #0f172a;
            --bg-hero: #0f172a;
            --bg-satellite: #0f172a;
            --bg-header: #0a1525;
            --text-primary: #ffbf00;
            --text-secondary: #b8860b;
            --accent-primary: #ff9900;
            --accent-positive: #ffc107;
            --accent-negative: #ff5722;
            --accent-warning: #ff9900;
            --border-light: #1a2a40;
            --glow-amber: #ffbf00;
            
            /* Signal confidence colors */
            --signal-strong: #ffc107;
            --signal-medium: #ff9900;
            --signal-weak: #ff7043;
            --signal-neutral: #607d8b;
            --signal-negative: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-hero) 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            font-weight: 400;
        }

        /* Subtle pattern overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 191, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 153, 0, 0.05) 0%, transparent 50%);
            background-size: 200px 200px;
            opacity: 0.3;
            z-index: -1;
            pointer-events: none;
        }

        /* Terminal ambient lighting */
        .ambient-glow {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to top, rgba(255, 153, 0, 0.1), transparent);
            z-index: -1;
            pointer-events: none;
        }

        /* Header */
        .header {
            display: flex;
            flex-direction: column;
            padding: 2rem 2.5rem 0 2.5rem;
            border-bottom: 2px solid var(--border-light);
            background: linear-gradient(135deg, var(--bg-header), var(--bg-satellite));
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 191, 0, 0.3);
            position: relative;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        /* Tab Navigation */
        .tab-navigation {
            display: flex;
            gap: 1px;
            margin-bottom: 0;
            border-bottom: 1px solid var(--border-light);
        }

        .tab-button {
            background: linear-gradient(135deg, var(--bg-satellite), var(--bg-primary));
            border: none;
            color: var(--text-secondary);
            padding: 1rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-top: 2px solid transparent;
            position: relative;
        }

        .tab-button:hover {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            color: var(--text-primary);
            border-top-color: var(--accent-primary);
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            color: var(--accent-positive);
            border-top-color: var(--accent-positive);
            box-shadow: 
                0 -4px 15px rgba(255, 193, 7, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .tab-button.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent-positive);
        }



        .header::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--accent-primary) 25%, 
                var(--accent-positive) 50%, 
                var(--accent-primary) 75%, 
                transparent 100%);
            animation: terminalScan 3s ease-in-out infinite;
        }

        @keyframes terminalScan {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .terminal-title {
            font-size: 2.4rem;
            color: var(--text-primary);
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 700;
            text-shadow: 
                0 0 20px var(--glow-amber),
                0 0 40px var(--glow-amber);
            position: relative;
            font-family: 'JetBrains Mono', monospace;
        }

        .terminal-title::before {
            content: '>>>';
            position: absolute;
            left: -60px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-primary);
            font-size: 1.5rem;
            text-shadow: 0 0 15px var(--accent-primary);
        }

        .terminal-title::after {
            content: '_';
            animation: blink 1s infinite;
            color: var(--accent-primary);
            margin-left: 5px;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--accent-positive);
            margin-top: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 400;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .config-toggle {
            background: linear-gradient(135deg, var(--bg-satellite), var(--bg-header));
            border: 1px solid var(--border-light);
            color: var(--text-primary);
            padding: 0.8rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 15px rgba(255, 153, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            text-transform: uppercase;
            font-weight: 500;
            letter-spacing: 1px;
            font-family: 'JetBrains Mono', monospace;
            position: relative;
            overflow: hidden;
        }

        .config-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(255, 153, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border-color: var(--accent-positive);
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .tab-button.nav-link {
            text-decoration: none;
            display: inline-block;
        }

        .tab-button.nav-link:hover {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            color: var(--signal-strong);
            border-top-color: var(--signal-strong);
            box-shadow: 
                0 -4px 15px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .real-time-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--bg-satellite), var(--bg-header));
            padding: 12px 20px;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(255, 153, 0, 0.2);
        }

        .status-light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-positive);
            box-shadow: 0 0 15px var(--accent-positive);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .status-text {
            font-size: 0.85rem;
            color: var(--text-primary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Container */
        .container {
            padding: 2rem 2.5rem;
            max-width: 100%;
            margin: 0 auto;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 300px 1fr 320px 280px;
            grid-template-rows: auto auto auto;
            gap: 1.5rem;
            height: calc(100vh - 200px);
        }

        /* Panel Base Styles */
        .panel {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-positive), var(--accent-primary));
            opacity: 0.6;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(26, 42, 64, 0.5);
        }

        .panel-title {
            font-size: 0.85rem;
            color: var(--text-primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'JetBrains Mono', monospace;
        }

        .panel-count {
            font-size: 0.75rem;
            color: var(--accent-positive);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Left Side Panel */
        .signals-panel {
            grid-column: 1;
            grid-row: 1 / 3;
            overflow-y: auto;
        }

        /* Signal Confluence Matrix - Center (Now wider) */
        .matrix-panel {
            grid-column: 2;
            grid-row: 1 / 3;
            overflow-x: auto;
        }

        /* Right Side Panels */
        .opportunities-panel {
            grid-column: 3;
            grid-row: 1 / 3;
            overflow-y: auto;
        }

        .alpha-panel {
            grid-column: 4;
            grid-row: 1 / 3;
            overflow-y: auto;
        }

        /* Bottom Row Panels */
        .performance-panel {
            grid-column: 1 / 5;
            grid-row: 3;
            overflow-x: auto;
        }

        .matrix-container {
            min-width: 1200px;
            overflow-x: auto;
        }

        .matrix-header {
            display: grid;
            grid-template-columns: 120px 100px repeat(12, 75px);
            gap: 2px;
            margin-bottom: 8px;
            position: sticky;
            top: 0;
            background: var(--bg-hero);
            z-index: 10;
            padding: 8px 0;
        }

        .matrix-header-cell {
            background: linear-gradient(135deg, var(--bg-header), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 8px 4px;
            text-align: center;
            font-size: 7px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.1;
        }

        .matrix-header-asset {
            font-size: 9px;
            color: var(--text-primary);
            font-weight: 700;
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: 120px 100px repeat(12, 75px);
            gap: 2px;
            max-height: calc(100vh - 400px);
            overflow-y: auto;
        }

        .matrix-row-header {
            background: linear-gradient(135deg, var(--bg-header), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 12px 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: var(--text-primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: sticky;
            left: 0;
            z-index: 5;
        }

        .matrix-cell {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 60px;
        }

        .matrix-cell:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(255, 191, 0, 0.4);
            border-color: var(--accent-positive);
            z-index: 15;
        }

        .signal-icon {
            font-size: 16px;
            margin-bottom: 4px;
            font-weight: 700;
        }

        .signal-confidence {
            font-size: 8px;
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
            color: var(--bg-primary);
        }

        /* Signal Strength Color Classes */
        .signal-strong-bullish {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
        }

        .signal-medium-bullish {
            background: linear-gradient(135deg, #8bc34a, #aed581);
            color: white;
        }

        .signal-weak-bullish {
            background: linear-gradient(135deg, #cddc39, #dce775);
            color: var(--bg-primary);
        }

        .signal-neutral {
            background: linear-gradient(135deg, var(--bg-satellite), var(--border-light));
            color: var(--text-secondary);
        }

        .signal-weak-bearish {
            background: linear-gradient(135deg, #ff9800, #ffb74d);
            color: white;
        }

        .signal-medium-bearish {
            background: linear-gradient(135deg, #ff5722, #ff7043);
            color: white;
        }

        .signal-strong-bearish {
            background: linear-gradient(135deg, #f44336, #e57373);
            color: white;
        }

        /* Composite Score Styles */
        .composite-score-cell {
            min-height: 70px;
            font-size: 16px;
            font-weight: 700;
            position: relative;
            border: 2px solid transparent;
        }

        .composite-score-value {
            font-size: 20px;
            font-weight: 900;
            text-shadow: 0 0 10px currentColor;
            margin-bottom: 4px;
        }

        .composite-score-label {
            font-size: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.9;
        }

        .score-excellent {
            background: linear-gradient(135deg, #00e676, #4caf50);
            border-color: #00e676;
            color: white;
            box-shadow: 0 0 20px rgba(0, 230, 118, 0.4);
        }

        .score-good {
            background: linear-gradient(135deg, #76ff03, #8bc34a);
            border-color: #76ff03;
            color: var(--bg-primary);
            box-shadow: 0 0 15px rgba(118, 255, 3, 0.3);
        }

        .score-fair {
            background: linear-gradient(135deg, #ffeb3b, #ffc107);
            border-color: #ffeb3b;
            color: var(--bg-primary);
            box-shadow: 0 0 15px rgba(255, 235, 59, 0.3);
        }

        .score-poor {
            background: linear-gradient(135deg, #ff9800, #ff5722);
            border-color: #ff9800;
            color: white;
            box-shadow: 0 0 15px rgba(255, 152, 0, 0.3);
        }

        .score-avoid {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            border-color: #f44336;
            color: white;
            box-shadow: 0 0 15px rgba(244, 67, 54, 0.3);
        }

        /* Top Opportunities Panel */
        .opportunity-item {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 16px;
            margin: 12px 0;
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .opportunity-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-positive);
        }

        .opportunity-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.3);
            border-color: var(--accent-positive);
        }

        .opportunity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .opportunity-symbol {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .opportunity-score {
            font-size: 18px;
            font-weight: 900;
            padding: 4px 12px;
            border-radius: 20px;
            font-family: 'JetBrains Mono', monospace;
            text-shadow: 0 0 10px currentColor;
        }

        .opportunity-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin: 12px 0;
        }

        .opportunity-metric {
            text-align: center;
            padding: 8px;
            background: rgba(26, 42, 64, 0.3);
            border-radius: 4px;
            border: 1px solid var(--border-light);
        }

        .metric-value {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .metric-label {
            font-size: 8px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 2px;
        }

        .opportunity-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        .action-btn {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 4px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'JetBrains Mono', monospace;
        }

        .btn-trade {
            background: linear-gradient(135deg, #4caf50, #66bb6a);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-trade:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .btn-analyze {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-positive));
            color: var(--bg-primary);
            box-shadow: 0 4px 15px rgba(255, 153, 0, 0.3);
        }

        .btn-analyze:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(255, 153, 0, 0.4);
        }

        /* Live Signals Panel */
        .signals-panel {
            grid-column: 1;
            grid-row: 1;
            max-height: 400px;
            overflow-y: auto;
        }

        .signal-compact {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border-left: 3px solid var(--accent-positive);
            padding: 8px 12px;
            margin: 8px 0;
            border-radius: 4px;
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .signal-compact:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 15px rgba(255, 153, 0, 0.3);
        }

        .signal-compact-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 4px;
        }

        .signal-symbol {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 11px;
            font-family: 'JetBrains Mono', monospace;
        }

        .signal-action {
            font-size: 8px;
            padding: 2px 6px;
            border-radius: 2px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .action-long {
            background: rgba(76, 175, 80, 0.2);
            color: var(--accent-positive);
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .action-short {
            background: rgba(255, 87, 34, 0.2);
            color: var(--accent-negative);
            border: 1px solid rgba(255, 87, 34, 0.3);
        }

        .action-watch {
            background: rgba(255, 153, 0, 0.2);
            color: var(--accent-warning);
            border: 1px solid rgba(255, 153, 0, 0.3);
        }

        .signal-details {
            font-size: 9px;
            color: var(--text-secondary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }





        /* Alpha Panel */
        .alpha-panel {
            grid-column: 1;
            grid-row: 2;
        }

        .alpha-item {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border-left: 3px solid var(--accent-positive);
            padding: 12px;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        .alpha-item:hover {
            transform: translateX(6px);
            box-shadow: 0 6px 20px rgba(255, 193, 7, 0.3);
        }

        .alpha-symbol {
            font-weight: 600;
            color: var(--accent-positive);
            font-size: 13px;
            font-family: 'JetBrains Mono', monospace;
            margin-bottom: 4px;
        }

        .alpha-pattern {
            font-size: 9px;
            color: var(--text-secondary);
            text-transform: uppercase;
            margin-bottom: 6px;
        }

        .alpha-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .alpha-confidence {
            font-size: 11px;
            color: var(--accent-positive);
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        .alpha-target {
            font-size: 11px;
            color: var(--text-primary);
            font-weight: 600;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Performance Panel */
        .performance-panel {
            grid-column: 1 / 4;
            grid-row: 3;
        }

        .performance-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 20px;
            margin-top: 15px;
        }

        .perf-metric {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-primary));
            border: 1px solid var(--border-light);
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .perf-metric:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 153, 0, 0.3);
            border-color: var(--accent-positive);
        }

        .perf-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            text-shadow: 0 0 10px var(--glow-amber);
            font-family: 'JetBrains Mono', monospace;
        }

        .perf-label {
            font-size: 10px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        /* Tooltip */
        .tooltip {
            position: absolute;
            background: rgba(10, 21, 37, 0.95);
            border: 1px solid var(--accent-positive);
            border-radius: 6px;
            padding: 12px;
            color: var(--text-primary);
            font-size: 10px;
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            max-width: 300px;
            display: none;
        }

        .tooltip-title {
            font-weight: 600;
            color: var(--accent-positive);
            margin-bottom: 8px;
            font-size: 11px;
        }

        .tooltip-details {
            display: grid;
            grid-template-columns: auto auto;
            gap: 4px 12px;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            .matrix-container {
                min-width: 1000px;
            }
            
            .matrix-header {
                grid-template-columns: 100px repeat(12, 70px);
            }
            
            .matrix-grid {
                grid-template-columns: 100px repeat(12, 70px);
            }
            
            .matrix-header-cell {
                font-size: 6px;
            }
        }

        @media (max-width: 1600px) {
            .dashboard-grid {
                grid-template-columns: 280px 1fr 300px 270px;
                gap: 1.2rem;
            }
            .panel {
                padding: 1.5rem;
            }
        }

        @media (max-width: 1400px) {
            .dashboard-grid {
                grid-template-columns: 260px 1fr 280px 250px;
                gap: 1rem;
            }
            .panel {
                padding: 1.2rem;
            }
            .matrix-container {
                min-width: 900px;
            }
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
                grid-template-rows: repeat(5, auto);
                gap: 1rem;
            }
            
            .signals-panel { grid-column: 1; grid-row: 1; }
            .matrix-panel { grid-column: 1; grid-row: 2; }
            .opportunities-panel { grid-column: 1; grid-row: 3; }
            .alpha-panel { grid-column: 1; grid-row: 4; }
            .performance-panel { grid-column: 1; grid-row: 5; }
            
            .container {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="ambient-glow"></div>
    
    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <div>
                <h1 class="terminal-title">VIRTUOSO.TERMINAL</h1>
                <div class="subtitle">Signal Confluence Matrix v10.0</div>
            </div>
            
                    <div class="header-controls">
            <button class="config-toggle">CONFIG</button>
            <div class="real-time-indicator">
                <div class="status-light"></div>
                <span class="status-text">LIVE</span>
            </div>
        </div>
        </div>
        
        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-button active" onclick="switchTab('matrix')">TRADING DASHBOARD</button>
            <a href="dashboard_market_report_comprehensive.html" class="tab-button nav-link">MARKET ANALYSIS</a>
            <a href="dashboard_beta_analysis_comprehensive.html" class="tab-button nav-link">BETA DASHBOARD</a>
        </div>
        

    </div>

    <!-- Main Container -->
    <div class="container">
        <div class="dashboard-grid">
            <!-- Live Signals Panel -->
            <div class="panel signals-panel">
                <div class="panel-header">
                    <span class="panel-title">LIVE SIGNALS</span>
                    <span class="panel-count">12 ACTIVE</span>
                </div>
                <div>
                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">BTC/USDT</span>
                            <span class="signal-action action-long">LONG</span>
                        </div>
                        <div class="signal-details">
                            <span>Multi-factor confluence</span>
                            <span>94.2%</span>
                        </div>
                    </div>
                    
                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">ETH/USDT</span>
                            <span class="signal-action action-long">LONG</span>
                        </div>
                        <div class="signal-details">
                            <span>Momentum + Volume</span>
                            <span>87.5%</span>
                        </div>
                    </div>
                    
                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">AVAX/USDT</span>
                            <span class="signal-action action-long">LONG</span>
                        </div>
                        <div class="signal-details">
                            <span>Whale + Technical</span>
                            <span>91.8%</span>
                        </div>
                    </div>
                    
                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">ADA/USDT</span>
                            <span class="signal-action action-short">SHORT</span>
                        </div>
                        <div class="signal-details">
                            <span>Beta compression</span>
                            <span>76.3%</span>
                        </div>
                    </div>
                    
                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">DOT/USDT</span>
                            <span class="signal-action action-watch">WATCH</span>
                        </div>
                        <div class="signal-details">
                            <span>Divergence forming</span>
                            <span>68.1%</span>
                        </div>
                    </div>

                    <div class="signal-compact">
                        <div class="signal-compact-header">
                            <span class="signal-symbol">LINK/USDT</span>
                            <span class="signal-action action-long">LONG</span>
                        </div>
                        <div class="signal-details">
                            <span>Support bounce</span>
                            <span>82.7%</span>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Signal Confluence Matrix -->
            <div class="panel matrix-panel">
                <div class="panel-header">
                    <span class="panel-title">SIGNAL CONFLUENCE MATRIX</span>
                    <span class="panel-count">REAL-TIME</span>
                </div>
                
                <div class="matrix-container">
                                         <!-- Matrix Header -->
                     <div class="matrix-header">
                         <div class="matrix-header-cell matrix-header-asset">ASSET</div>
                         <div class="matrix-header-cell matrix-header-asset">SCORE</div>
                         <div class="matrix-header-cell">MOMENTUM</div>
                         <div class="matrix-header-cell">TECHNICAL</div>
                         <div class="matrix-header-cell">VOLUME</div>
                         <div class="matrix-header-cell">ORDERFLOW</div>
                         <div class="matrix-header-cell">ORDERBOOK</div>
                         <div class="matrix-header-cell">SENTIMENT</div>
                         <div class="matrix-header-cell">PRICE STRUCT</div>
                         <div class="matrix-header-cell">BETA EXP</div>
                         <div class="matrix-header-cell">CORR BREAK</div>
                         <div class="matrix-header-cell">WHALE ACT</div>
                         <div class="matrix-header-cell">LIQUIDATION</div>
                         <div class="matrix-header-cell">LARGE ORD</div>
                     </div>

                    <!-- Matrix Grid -->
                    <div class="matrix-grid" id="signalMatrix">
                        <!-- Rows will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Alpha Panel -->
            <div class="panel alpha-panel">
                <div class="panel-header">
                    <span class="panel-title">ALPHA TARGETS</span>
                    <span class="panel-count">4 IDENTIFIED</span>
                </div>
                <div>
                    <div class="alpha-item">
                        <div class="alpha-symbol">AVAX/USDT</div>
                        <div class="alpha-pattern">MOMENTUM_BREAKOUT</div>
                        <div class="alpha-stats">
                            <span class="alpha-confidence">91.5%</span>
                            <span class="alpha-target">+14.7%</span>
                        </div>
                    </div>
                    
                    <div class="alpha-item">
                        <div class="alpha-symbol">LINK/USDT</div>
                        <div class="alpha-pattern">SUPPORT_BOUNCE</div>
                        <div class="alpha-stats">
                            <span class="alpha-confidence">76.8%</span>
                            <span class="alpha-target">+11.9%</span>
                        </div>
                    </div>
                    
                    <div class="alpha-item">
                        <div class="alpha-symbol">DOT/USDT</div>
                        <div class="alpha-pattern">WHALE_ACTIVITY</div>
                        <div class="alpha-stats">
                            <span class="alpha-confidence">88.4%</span>
                            <span class="alpha-target">+16.2%</span>
                        </div>
                    </div>
                    
                    <div class="alpha-item">
                        <div class="alpha-symbol">FTM/USDT</div>
                        <div class="alpha-pattern">VOLUME_SURGE</div>
                        <div class="alpha-stats">
                            <span class="alpha-confidence">82.7%</span>
                            <span class="alpha-target">+8.9%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Opportunities Panel -->
            <div class="panel opportunities-panel">
                <div class="panel-header">
                    <span class="panel-title">TOP OPPORTUNITIES</span>
                    <span class="panel-count">HIGH CONVICTION</span>
                </div>
                <div id="opportunitiesContainer">
                    <!-- Opportunities will be populated by JavaScript -->
                </div>
            </div>

            <!-- Performance Panel -->
            <div class="panel performance-panel">
                <div class="panel-header">
                    <span class="panel-title">PERFORMANCE METRICS</span>
                    <span class="panel-count">REAL-TIME</span>
                </div>
                <div class="performance-grid">
                    <div class="perf-metric">
                        <div class="perf-value">94%</div>
                        <div class="perf-label">ACCURACY</div>
                    </div>
                    <div class="perf-metric">
                        <div class="perf-value">12ms</div>
                        <div class="perf-label">LATENCY</div>
                    </div>
                    <div class="perf-metric">
                        <div class="perf-value">$12.4K</div>
                        <div class="perf-label">TODAY_PNL</div>
                    </div>
                    <div class="perf-metric">
                        <div class="perf-value">156</div>
                        <div class="perf-label">SIGNALS</div>
                    </div>
                    <div class="perf-metric">
                        <div class="perf-value">8.7%</div>
                        <div class="perf-label">WIN_RATE</div>
                    </div>
                    <div class="perf-metric">
                        <div class="perf-value">2.3x</div>
                        <div class="perf-label">SHARPE</div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <!-- Tooltip -->
    <div class="tooltip" id="matrixTooltip">
        <div class="tooltip-title" id="tooltipTitle"></div>
        <div class="tooltip-details" id="tooltipDetails"></div>
    </div>

    <script>
        // Tab switching functionality (simplified since external tabs are now separate pages)
        function switchTab(tabName) {
            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));
            
            // Mark the current tab as active
            if (tabName === 'matrix') {
                document.querySelector('[onclick="switchTab(\'matrix\')"]').classList.add('active');
            }
        }




        // Asset pairs for the matrix
        const assets = [
            'BTC/USDT', 'ETH/USDT', 'AVAX/USDT', 'ADA/USDT', 'DOT/USDT', 'LINK/USDT',
            'SOL/USDT', 'MATIC/USDT', 'ATOM/USDT', 'NEAR/USDT', 'FTM/USDT', 'ALGO/USDT'
        ];

        // Signal types
        const signalTypes = [
            'momentum', 'technical', 'volume', 'orderflow', 'orderbook', 
            'sentiment', 'priceStruct', 'betaExp', 'corrBreak', 'whaleAct', 
            'liquidation', 'largeOrd'
        ];

        // Signal weights for composite scoring
        const signalWeights = {
            momentum: 0.20,
            technical: 0.15,
            volume: 0.12,
            orderflow: 0.10,
            orderbook: 0.08,
            sentiment: 0.06,
            priceStruct: 0.12,
            betaExp: 0.05,
            corrBreak: 0.04,
            whaleAct: 0.15,
            liquidation: 0.08,
            largeOrd: 0.05
        };

        // Generate mock signal data with enhanced scoring
        function generateSignalData() {
            const data = {};
            assets.forEach(asset => {
                data[asset] = {};
                let totalScore = 0;
                let totalWeight = 0;
                
                signalTypes.forEach(signal => {
                    const confidence = Math.random() * 100;
                    // Ensure every signal has a direction (no neutrals)
                    const direction = Math.random() < 0.55 ? 'bullish' : 'bearish';
                    // Ensure every signal has a strength (minimum weak)
                    const strength = confidence > 75 ? 'strong' : confidence > 45 ? 'medium' : 'weak';
                    
                    data[asset][signal] = {
                        confidence: Math.max(30, confidence), // Minimum 30% confidence for visibility
                        direction: direction,
                        strength: strength
                    };
                    
                    // Calculate weighted contribution to composite score
                    const weight = signalWeights[signal] || 0.05;
                    let scoreContribution = 0;
                    
                                         if (direction === 'bullish') {
                         scoreContribution = confidence * weight;
                     } else {
                         // Bearish signals contribute inversely to score
                         scoreContribution = (100 - confidence) * weight;
                     }
                    
                    totalScore += scoreContribution;
                    totalWeight += weight;
                });
                
                // Calculate composite score (0-100)
                data[asset].compositeScore = Math.round(totalScore / totalWeight);
            });
            
            return data;
        }

        // Get signal class based on direction and strength
        function getSignalClass(signal) {
            // Always return a colored class - no neutrals
            return `signal-${signal.strength}-${signal.direction}`;
        }

        // Get signal icon based on direction
        function getSignalIcon(signal) {
            switch(signal.direction) {
                case 'bullish': return '↑';
                case 'bearish': return '↓';
                default: return '↑';
            }
        }

        // Get composite score class
        function getCompositeScoreClass(score) {
            if (score >= 85) return 'score-excellent';
            if (score >= 75) return 'score-good';
            if (score >= 60) return 'score-fair';
            if (score >= 45) return 'score-poor';
            return 'score-avoid';
        }

        // Create composite score cell
        function createCompositeScoreCell(asset, compositeScore) {
            const cell = document.createElement('div');
            cell.className = `matrix-cell composite-score-cell ${getCompositeScoreClass(compositeScore)}`;
            
            const value = document.createElement('div');
            value.className = 'composite-score-value';
            value.textContent = compositeScore;
            
            const label = document.createElement('div');
            label.className = 'composite-score-label';
            if (compositeScore >= 85) label.textContent = 'EXCELLENT';
            else if (compositeScore >= 75) label.textContent = 'GOOD';
            else if (compositeScore >= 60) label.textContent = 'FAIR';
            else if (compositeScore >= 45) label.textContent = 'POOR';
            else label.textContent = 'AVOID';
            
            cell.appendChild(value);
            cell.appendChild(label);
            
            return cell;
        }

        // Create matrix cell
        function createMatrixCell(asset, signalType, signalData) {
            const cell = document.createElement('div');
            cell.className = `matrix-cell ${getSignalClass(signalData)}`;
            
            const icon = document.createElement('div');
            icon.className = 'signal-icon';
            icon.textContent = getSignalIcon(signalData);
            
            const confidence = document.createElement('div');
            confidence.className = 'signal-confidence';
            confidence.textContent = `${signalData.confidence.toFixed(0)}%`;
            
            cell.appendChild(icon);
            cell.appendChild(confidence);
            
            // Add hover tooltip
            cell.addEventListener('mouseenter', (e) => showTooltip(e, asset, signalType, signalData));
            cell.addEventListener('mouseleave', hideTooltip);
            
            return cell;
        }

        // Show tooltip
        function showTooltip(event, asset, signalType, signalData) {
            const tooltip = document.getElementById('matrixTooltip');
            const title = document.getElementById('tooltipTitle');
            const details = document.getElementById('tooltipDetails');
            
            title.textContent = `${asset} - ${signalType.toUpperCase()}`;
            
            details.innerHTML = `
                <span>Direction:</span><span>${signalData.direction.toUpperCase()}</span>
                <span>Confidence:</span><span>${signalData.confidence.toFixed(1)}%</span>
                <span>Strength:</span><span>${signalData.strength.toUpperCase()}</span>
                <span>Signal Type:</span><span>${signalType.replace(/([A-Z])/g, ' $1').toUpperCase()}</span>
            `;
            
            tooltip.style.display = 'block';
            tooltip.style.left = event.pageX + 10 + 'px';
            tooltip.style.top = event.pageY - 50 + 'px';
        }

        // Hide tooltip
        function hideTooltip() {
            document.getElementById('matrixTooltip').style.display = 'none';
        }

        // Create opportunity item for top opportunities panel
        function createOpportunityItem(asset, data, rank) {
            const item = document.createElement('div');
            item.className = 'opportunity-item';
            
            const scoreClass = getCompositeScoreClass(data.compositeScore);
            
            item.innerHTML = `
                <div class="opportunity-header">
                    <span class="opportunity-symbol">#${rank} ${asset}</span>
                    <span class="opportunity-score ${scoreClass}">${data.compositeScore}</span>
                </div>
                <div class="opportunity-metrics">
                    <div class="opportunity-metric">
                        <div class="metric-value">${(Math.random() * 15 + 5).toFixed(1)}%</div>
                        <div class="metric-label">Expected Return</div>
                    </div>
                    <div class="opportunity-metric">
                        <div class="metric-value">${(Math.random() * 5 + 1).toFixed(1)}%</div>
                        <div class="metric-label">Risk Level</div>
                    </div>
                    <div class="opportunity-metric">
                        <div class="metric-value">${(Math.random() * 10 + 2).toFixed(1)}K</div>
                        <div class="metric-label">Max Position</div>
                    </div>
                    <div class="opportunity-metric">
                        <div class="metric-value">${(Math.random() * 0.5 + 2.0).toFixed(1)}x</div>
                        <div class="metric-label">Risk/Reward</div>
                    </div>
                </div>
                <div class="opportunity-actions">
                    <button class="action-btn btn-trade" onclick="executeTrade('${asset}')">TRADE</button>
                    <button class="action-btn btn-analyze" onclick="analyzeAsset('${asset}')">ANALYZE</button>
                </div>
            `;
            
            return item;
        }

        // Populate top opportunities
        function populateTopOpportunities(signalData) {
            const container = document.getElementById('opportunitiesContainer');
            container.innerHTML = '';
            
            // Sort assets by composite score
            const sortedAssets = assets
                .map(asset => ({ asset, score: signalData[asset].compositeScore }))
                .sort((a, b) => b.score - a.score)
                .slice(0, 5); // Top 5 opportunities
            
            sortedAssets.forEach((item, index) => {
                const opportunityItem = createOpportunityItem(item.asset, signalData[item.asset], index + 1);
                container.appendChild(opportunityItem);
            });
        }

        // Populate matrix
        function populateMatrix() {
            const matrixGrid = document.getElementById('signalMatrix');
            const signalData = generateSignalData();
            
            // Clear existing content
            matrixGrid.innerHTML = '';
            
            // Sort assets by composite score for better visual hierarchy
            const sortedAssets = assets
                .map(asset => ({ asset, score: signalData[asset].compositeScore }))
                .sort((a, b) => b.score - a.score);
            
            sortedAssets.forEach(item => {
                const asset = item.asset;
                
                // Asset row header
                const rowHeader = document.createElement('div');
                rowHeader.className = 'matrix-row-header';
                rowHeader.textContent = asset;
                matrixGrid.appendChild(rowHeader);
                
                // Composite score cell
                const scoreCell = createCompositeScoreCell(asset, signalData[asset].compositeScore);
                matrixGrid.appendChild(scoreCell);
                
                // Signal cells for this asset
                signalTypes.forEach(signalType => {
                    const cell = createMatrixCell(asset, signalType, signalData[asset][signalType]);
                    matrixGrid.appendChild(cell);
                });
            });
            
            // Update top opportunities
            populateTopOpportunities(signalData);
        }

        // Market Analysis Interpretation Functions
        function interpretTechnical(score, components) {
            if (score > 65) {
                if (score > 80) {
                    return "Extremely strong bullish technical setup with multiple indicators aligned. RSI in healthy uptrend territory while momentum oscillators show sustained buying pressure. Moving averages displaying bullish convergence with breakout above key resistance levels.";
                } else {
                    return "Strong bullish technical indicators with trend momentum building. Technical analysis shows consistent higher highs and higher lows formation with volume confirmation supporting the upward trajectory.";
                }
            } else if (score < 35) {
                if (score < 20) {
                    return "Extremely bearish technical configuration with multiple downside confirmations. Oscillators showing oversold conditions while trend indicators signal continued weakness. Moving averages in bearish alignment with breakdown below support.";
                } else {
                    return "Bearish technical setup with trend momentum deteriorating. Key support levels under pressure while momentum indicators show selling pressure building across multiple timeframes.";
                }
            } else {
                return "Neutral technical conditions with mixed signals from oscillators and trend indicators. Market appears to be in consolidation phase awaiting directional catalyst for next move.";
            }
        }

        function interpretVolume(score, components) {
            if (score > 65) {
                return "Strong volume confirmation supporting current price action. Above-average participation rates indicate institutional involvement with significant buying interest. Volume profile shows accumulation at higher price levels.";
            } else if (score < 35) {
                return "Declining volume participation suggests waning conviction in current price movement. Volume profile indicates distribution pressure with sellers becoming more active at these levels.";
            } else {
                return "Moderate volume levels showing balanced participation between buyers and sellers. Volume patterns suggest consolidation phase with potential for volatility expansion.";
            }
        }

        function interpretOrderflow(score, components) {
            if (score > 65) {
                return "Dominant buying pressure evident in orderflow with large trades executed predominantly on the bid side. Cumulative volume delta showing positive momentum with institutional-sized orders providing support.";
            } else if (score < 35) {
                return "Selling pressure dominating orderflow with aggressive selling into bids. Large trade analysis suggests institutional distribution with negative cumulative volume delta indicating sustained outflows.";
            } else {
                return "Balanced orderflow conditions with equal buying and selling pressure. Trade flow analysis shows neutral institutional positioning with no clear directional bias from large participants.";
            }
        }

        function interpretSentiment(score, components) {
            if (score > 65) {
                return "Bullish market sentiment with positive risk appetite evident across market participants. Funding rates showing willingness to pay premiums for long exposure while trader positioning remains constructive.";
            } else if (score < 35) {
                return "Bearish sentiment dominating with risk-off positioning prevalent. Negative funding rates indicating short bias while trader sentiment surveys showing pessimistic outlook for near-term price action.";
            } else {
                return "Neutral market sentiment with balanced risk appetite. Funding rates near equilibrium while trader positioning shows no strong directional bias suggesting wait-and-see approach.";
            }
        }

        function generateTradingRecommendation(overallScore, signalData) {
            if (overallScore > 70) {
                return "Strong bullish confluence suggests long-biased strategies. Consider breakout entries above resistance levels with defined risk management. Target key profit zones while maintaining trailing stops to capture momentum moves.";
            } else if (overallScore < 30) {
                return "Bearish confluence indicates short-biased strategies. Look for breakdown entries below support with tight risk controls. Focus on momentum continuation while avoiding oversold bounces.";
            } else if (overallScore > 55) {
                return "Slight bullish bias present but wait for stronger confirmation. Consider small long positions on pullbacks to support with conservative position sizing. Monitor for trend acceleration signals.";
            } else if (overallScore < 45) {
                return "Weak bearish bias suggests caution on long positions. Consider defensive strategies or wait for clearer directional signals. Range-bound trading may be most appropriate until trend emerges.";
            } else {
                return "Neutral market conditions suggest range-bound strategies. Focus on mean-reversion trades at support/resistance levels. Avoid trend-following until clear directional break emerges.";
            }
        }



        // Update matrix periodically



        function updateMatrix() {
            if (Math.random() > 0.8) {
                populateMatrix();
            }
        }

        // Enhanced hover effects
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize matrix
            populateMatrix();
            
            // Update matrix every 15 seconds
            setInterval(updateMatrix, 15000);
            
            // Enhanced hover effects for other elements
            document.querySelectorAll('.signal-compact, .alpha-item, .perf-metric').forEach(item => {
                item.addEventListener('mouseenter', function() {
                    this.style.filter = 'brightness(1.1)';
                    this.style.boxShadow = '0 8px 25px rgba(255, 153, 0, 0.4)';
                });
                
                item.addEventListener('mouseleave', function() {
                    this.style.filter = '';
                    this.style.boxShadow = '';
                });
            });

            console.log(`
[SYSTEM] ================================================
[SYSTEM] VIRTUOSO.TERMINAL SIGNAL CONFLUENCE v10.0 READY
[SYSTEM] BETA DASHBOARD LINK INTEGRATED
[SYSTEM] COMPOSITE SIGNAL SCORING ACTIVE
[SYSTEM] TOP OPPORTUNITIES RANKING ENABLED
[SYSTEM] ENHANCED VISUAL HIERARCHY LOADED
[SYSTEM] AMBER THEME LOADED
[SYSTEM] JETBRAINS MONO FONT ACTIVE
[SYSTEM] SIGNAL CONFLUENCE MATRIX INITIALIZED
[SYSTEM] MULTI-FACTOR ANALYSIS ACTIVE
[SYSTEM] ALL MONITORING SYSTEMS ACTIVE
[SYSTEM] ================================================`);
        });

        // Trading action functions
        function executeTrade(asset) {
            console.log(`[TRADE] Executing trade for ${asset}`);
            alert(`Trade execution initiated for ${asset}\n\nThis would open your trading interface with pre-populated parameters.`);
        }

        function analyzeAsset(asset) {
            console.log(`[ANALYZE] Opening detailed analysis for ${asset}`);
            alert(`Opening detailed analysis for ${asset}\n\nThis would show comprehensive technical analysis, fundamentals, and risk metrics.`);
        }
    </script>
</body>
</html>