<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signal Radar - XRPUSDT | Virtuoso Terminal</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        /* Terminal Amber + Navy Blue Theme - Exact Copy from dashboard_v10.html */
        :root {
            --bg-primary: #0c1a2b;
            --bg-secondary: #0f172a;
            --bg-hero: #0f172a;
            --bg-satellite: #0f172a;
            --bg-header: #0a1525;
            --text-primary: #ffbf00;
            --text-secondary: #b8860b;
            --accent-primary: #ff9900;
            --accent-positive: #ffc107;
            --accent-negative: #ff5722;
            --accent-warning: #ff9900;
            --border-light: #1a2a40;
            --glow-amber: #ffbf00;
            
            /* Signal confidence colors */
            --signal-strong: #ffc107;
            --signal-medium: #ff9900;
            --signal-weak: #ff7043;
            --signal-neutral: #607d8b;
            --signal-negative: #f44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'JetBrains Mono', 'Courier New', monospace;
        }

        body {
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-hero) 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            font-weight: 400;
        }

        /* Subtle pattern overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 191, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 153, 0, 0.05) 0%, transparent 50%);
            background-size: 200px 200px;
            opacity: 0.3;
            z-index: -1;
            pointer-events: none;
        }

        /* Terminal ambient lighting */
        .ambient-glow {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: linear-gradient(to top, rgba(255, 153, 0, 0.1), transparent);
            z-index: -1;
            pointer-events: none;
        }

        /* Header */
        .header {
            display: flex;
            flex-direction: column;
            padding: 2rem 2.5rem 0 2.5rem;
            border-bottom: 2px solid var(--border-light);
            background: linear-gradient(135deg, var(--bg-header), var(--bg-satellite));
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 191, 0, 0.3);
            position: relative;
        }

        .header::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--accent-primary) 25%, 
                var(--accent-positive) 50%, 
                var(--accent-primary) 75%, 
                transparent 100%);
            animation: terminalScan 3s ease-in-out infinite;
        }

        @keyframes terminalScan {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .terminal-title {
            font-size: 2.4rem;
            color: var(--accent-positive);
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 4px;
            font-weight: 700;
            text-shadow: 
                0 0 8px var(--accent-positive),
                0 0 16px var(--accent-positive);
            position: relative;
            font-family: 'JetBrains Mono', monospace;
            border: 2px solid var(--accent-positive);
            padding: 12px 20px;
            background: rgba(255, 193, 7, 0.08);
            border-radius: 6px;
            display: inline-flex;
            align-items: center;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.2);
        }

        .terminal-title::after {
            content: '_';
            animation: blink 1s infinite;
            color: var(--accent-positive);
            margin-left: 8px;
        }

        .terminal-icon {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            color: var(--accent-positive);
            margin-right: 1rem;
            vertical-align: middle;
            stroke-width: 2.5;
            filter: drop-shadow(0 0 6px var(--accent-positive));
            animation: iconPulse 3s ease-in-out infinite;
        }

        @keyframes iconPulse {
            0%, 100% { 
                opacity: 1;
                transform: scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--accent-positive);
            margin-top: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 400;
        }

        .header-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .real-time-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, var(--bg-satellite), var(--bg-header));
            padding: 12px 20px;
            border: 1px solid var(--border-light);
            border-radius: 4px;
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(255, 153, 0, 0.2);
        }

        .status-light {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-positive);
            box-shadow: 0 0 15px var(--accent-positive);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        .status-text {
            font-size: 0.85rem;
            color: var(--text-primary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Container */
        .container {
            padding: 2rem 2.5rem;
            max-width: 100%;
            margin: 0 auto;
        }

        /* Panel Base Styles */
        .panel {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-positive), var(--accent-primary));
            opacity: 0.6;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(26, 42, 64, 0.5);
        }

        .panel-title {
            font-size: 0.85rem;
            color: var(--text-primary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-family: 'JetBrains Mono', monospace;
        }

        .panel-count {
            font-size: 0.75rem;
            color: var(--accent-positive);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Radar Container */
        .radar-container {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            min-height: 600px;
        }

        .radar-chart {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 1rem;
            position: relative;
        }

        .radar-controls {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Signal Metrics Panel */
        .signal-metrics {
            background: linear-gradient(135deg, var(--bg-hero), var(--bg-satellite));
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 1.5rem;
            position: relative;
        }

        .signal-metrics::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-positive), var(--accent-primary));
            opacity: 0.6;
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(26, 42, 64, 0.3);
        }

        .metric-item:last-child {
            border-bottom: none;
        }

        .metric-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .metric-value {
            font-size: 1rem;
            color: var(--text-primary);
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
        }

        .metric-value.positive {
            color: #4caf50;
            text-shadow: 0 0 6px rgba(76, 175, 80, 0.4);
        }

        .metric-value.negative {
            color: #f44336;
            text-shadow: 0 0 6px rgba(244, 67, 54, 0.4);
        }

        .metric-value.neutral {
            color: var(--accent-warning);
            text-shadow: 0 0 6px rgba(255, 153, 0, 0.4);
        }

        /* Overall Score Display */
        .overall-score {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, var(--bg-primary), var(--bg-satellite));
            border: 2px solid var(--accent-positive);
            border-radius: 8px;
            margin-bottom: 1.5rem;
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.3);
        }

        .score-value {
            font-size: 3rem;
            font-weight: 900;
            color: var(--accent-positive);
            text-shadow: 0 0 15px var(--accent-positive);
            font-family: 'JetBrains Mono', monospace;
            margin-bottom: 0.5rem;
        }

        .score-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1rem;
        }

        .confidence-bar {
            width: 100%;
            height: 8px;
            background: rgba(26, 42, 64, 0.5);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 1rem;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-positive));
            border-radius: 4px;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px rgba(255, 193, 7, 0.5);
        }

        /* Controls */
        .control-group {
            background: linear-gradient(135deg, var(--bg-satellite), var(--bg-header));
            border: 1px solid var(--border-light);
            border-radius: 6px;
            padding: 1rem;
        }

        .control-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
            display: block;
        }

        .control-select {
            width: 100%;
            background: var(--bg-primary);
            border: 1px solid var(--border-light);
            color: var(--text-primary);
            padding: 8px 12px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

        .control-select:focus {
            outline: none;
            border-color: var(--accent-positive);
            box-shadow: 0 0 10px rgba(255, 193, 7, 0.3);
        }

        .action-button {
            width: 100%;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-positive));
            border: none;
            color: var(--bg-primary);
            padding: 12px 20px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .action-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.4);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .radar-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .container {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="ambient-glow"></div>
    
    <!-- Header -->
    <div class="header">
        <div class="header-top">
            <div>
                <h1 class="terminal-title">
                    <i data-lucide="radar" class="terminal-icon"></i>
                    SIGNAL RADAR
                </h1>
                <div class="subtitle">Confluence Analysis Visualization</div>
            </div>
            
            <div class="header-controls">
                <div class="real-time-indicator">
                    <div class="status-light"></div>
                    <span class="status-text">LIVE</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Signal Overview Panel -->
        <div class="panel">
            <div class="panel-header">
                <span class="panel-title">SIGNAL CONFLUENCE RADAR - XRPUSDT</span>
                <span class="panel-count">REAL-TIME ANALYSIS</span>
            </div>
            
            <div class="radar-container">
                <!-- Radar Chart -->
                <div class="radar-chart">
                    <div id="radarPlot" style="width: 100%; height: 500px;"></div>
                </div>
                
                <!-- Controls and Metrics -->
                <div class="radar-controls">
                    <!-- Overall Score -->
                    <div class="overall-score">
                        <div class="score-value">56.9</div>
                        <div class="score-label">Overall Score</div>
                        <div class="score-label" style="color: var(--accent-positive);">NEUTRAL</div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: 78%;"></div>
                        </div>
                        <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.5rem;">
                            78% Confidence
                        </div>
                    </div>
                    
                    <!-- Signal Metrics -->
                    <div class="signal-metrics">
                        <div class="panel-header" style="margin-bottom: 1rem; padding-bottom: 0.5rem;">
                            <span class="panel-title" style="font-size: 0.75rem;">SIGNAL BREAKDOWN</span>
                        </div>
                        
                        <div class="metric-item">
                            <span class="metric-label">Technical</span>
                            <span class="metric-value neutral">44.7%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Volume</span>
                            <span class="metric-value neutral">43.1%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Orderflow</span>
                            <span class="metric-value positive">73.1%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Sentiment</span>
                            <span class="metric-value positive">62.1%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Orderbook</span>
                            <span class="metric-value positive">60.1%</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-label">Price Structure</span>
                            <span class="metric-value neutral">46.8%</span>
                        </div>
                    </div>
                    
                    <!-- Controls -->
                    <div class="control-group">
                        <label class="control-label">Symbol</label>
                        <select class="control-select" id="symbolSelect">
                            <option value="XRPUSDT" selected>XRP/USDT</option>
                            <option value="BTCUSDT">BTC/USDT</option>
                            <option value="ETHUSDT">ETH/USDT</option>
                            <option value="ADAUSDT">ADA/USDT</option>
                            <option value="SOLUSDT">SOL/USDT</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label class="control-label">Timeframe</label>
                        <select class="control-select" id="timeframeSelect">
                            <option value="1h">1 Hour</option>
                            <option value="4h" selected>4 Hours</option>
                            <option value="1d">1 Day</option>
                            <option value="1w">1 Week</option>
                        </select>
                    </div>
                    
                    <button class="action-button" onclick="refreshData()">
                        REFRESH DATA
                    </button>
                    
                    <button class="action-button" onclick="exportAnalysis()" style="background: linear-gradient(135deg, var(--bg-satellite), var(--bg-header)); color: var(--text-primary); border: 1px solid var(--border-light);">
                        EXPORT ANALYSIS
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        if (typeof lucide !== 'undefined') {
            lucide.createIcons();
        }

        // Radar chart data
        const radarData = {
            r: [44.74, 43.15, 73.08, 62.1, 60.08, 46.82],
            theta: ['Technical', 'Volume', 'Orderflow', 'Sentiment', 'Orderbook', 'Price Structure'],
            type: 'scatterpolar',
            fill: 'toself',
            fillcolor: 'rgba(255, 193, 7, 0.2)',
            line: {
                color: '#ffc107',
                width: 3
            },
            marker: {
                color: '#ffbf00',
                size: 8,
                line: {
                    color: '#ff9900',
                    width: 2
                }
            },
            name: 'XRPUSDT Signals',
            hovertemplate: '<b>%{theta}</b><br>Score: %{r:.1f}%<extra></extra>'
        };

        // Reference circles
        const referenceCircles = [
            {
                r: Array(6).fill(25),
                theta: ['Technical', 'Volume', 'Orderflow', 'Sentiment', 'Orderbook', 'Price Structure'],
                type: 'scatterpolar',
                mode: 'lines',
                line: { color: '#f44336', width: 1, dash: 'dot' },
                showlegend: false,
                hoverinfo: 'skip'
            },
            {
                r: Array(6).fill(50),
                theta: ['Technical', 'Volume', 'Orderflow', 'Sentiment', 'Orderbook', 'Price Structure'],
                type: 'scatterpolar',
                mode: 'lines',
                line: { color: '#ff9800', width: 1, dash: 'dot' },
                showlegend: false,
                hoverinfo: 'skip'
            },
            {
                r: Array(6).fill(75),
                theta: ['Technical', 'Volume', 'Orderflow', 'Sentiment', 'Orderbook', 'Price Structure'],
                type: 'scatterpolar',
                mode: 'lines',
                line: { color: '#4caf50', width: 1, dash: 'dot' },
                showlegend: false,
                hoverinfo: 'skip'
            }
        ];

        // Layout configuration
        const layout = {
            polar: {
                bgcolor: 'rgba(15, 23, 42, 0.8)',
                radialaxis: {
                    visible: true,
                    range: [0, 100],
                    tickfont: { color: '#b8860b', family: 'JetBrains Mono', size: 10 },
                    gridcolor: 'rgba(26, 42, 64, 0.8)',
                    linecolor: '#1a2a40',
                    tickcolor: '#ffbf00'
                },
                angularaxis: {
                    tickfont: { color: '#ffbf00', family: 'JetBrains Mono', size: 12 },
                    linecolor: '#1a2a40',
                    gridcolor: 'rgba(26, 42, 64, 0.6)'
                }
            },
            paper_bgcolor: 'rgba(12, 26, 43, 0)',
            plot_bgcolor: 'rgba(15, 23, 42, 0)',
            font: { family: 'JetBrains Mono', color: '#ffbf00' },
            showlegend: false,
            margin: { t: 20, b: 20, l: 20, r: 20 }
        };

        // Plot configuration
        const config = {
            displayModeBar: false,
            responsive: true
        };

        // Create the plot
        Plotly.newPlot('radarPlot', [radarData, ...referenceCircles], layout, config);

        // Control functions
        function refreshData() {
            console.log('Refreshing radar data...');
            // Simulate data refresh with slight variations
            const newData = {
                ...radarData,
                r: radarData.r.map(val => Math.max(0, Math.min(100, val + (Math.random() - 0.5) * 10)))
            };
            
            Plotly.restyle('radarPlot', { r: [newData.r] }, [0]);
            
            // Update metrics
            const metricValues = document.querySelectorAll('.metric-value');
            metricValues.forEach((element, index) => {
                if (index < newData.r.length) {
                    element.textContent = newData.r[index].toFixed(1) + '%';
                    
                    // Update color classes
                    element.className = 'metric-value';
                    if (newData.r[index] > 60) {
                        element.classList.add('positive');
                    } else if (newData.r[index] < 40) {
                        element.classList.add('negative');
                    } else {
                        element.classList.add('neutral');
                    }
                }
            });
        }

        function exportAnalysis() {
            const analysisData = {
                symbol: 'XRPUSDT',
                timestamp: new Date().toISOString(),
                overall_score: 56.87,
                confidence: 78,
                status: 'NEUTRAL',
                signals: {"Technical": 44.74, "Volume": 43.15, "Orderflow": 73.08, "Sentiment": 62.1, "Orderbook": 60.08, "Price Structure": 46.82},
                timeframe: document.getElementById('timeframeSelect').value
            };
            
            const blob = new Blob([JSON.stringify(analysisData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `signal_radar_analysis_XRPUSDT_20250613_114104.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Symbol and timeframe change handlers
        document.getElementById('symbolSelect').addEventListener('change', function() {
            console.log('Symbol changed to:', this.value);
            // In a real implementation, this would fetch new data for the selected symbol
        });

        document.getElementById('timeframeSelect').addEventListener('change', function() {
            console.log('Timeframe changed to:', this.value);
            // In a real implementation, this would fetch data for the new timeframe
        });

        // Auto-refresh every 30 seconds
        setInterval(refreshData, 30000);

        console.log('Signal Radar Dashboard initialized successfully');
    </script>
</body>
</html>